<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°±ì œ ìœ ì ì§€ ì§€ë„ - ì›…ì§„ê³¼ ì‚¬ë¹„ì˜ ì—­ì‚¬</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            font-size: 1.1rem;
            color: #7f8c8d;
            margin-bottom: 25px;
        }

        .period-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            background: #ecf0f1;
            color: #2c3e50;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .tab-btn:hover {
            background: #bdc3c7;
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 20px;
            margin-bottom: 20px;
        }

        .map-container {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        #map {
            height: 600px;
            width: 100%;
            border-radius: 15px;
        }

        .info-panel {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            height: fit-content;
        }

        .info-panel h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .info-panel p {
            color: #7f8c8d;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .legend {
            margin-bottom: 25px;
        }

        .legend h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .legend-marker {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            margin-right: 10px;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .legend-marker.ungjin {
            background: #e74c3c;
        }

        .legend-marker.sabi {
            background: #27ae60;
        }


        .marker-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
        }

        .popup-content {
            background: white;
            border-radius: 15px;
            max-width: 600px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 2rem;
            color: #7f8c8d;
            cursor: pointer;
            z-index: 1001;
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: #e74c3c;
        }

        .popup-header {
            padding: 25px 25px 15px;
            border-bottom: 1px solid #ecf0f1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .popup-header h3 {
            color: #2c3e50;
            font-size: 1.5rem;
            margin: 0;
        }

        .period-badge {
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
            color: white;
        }

        .period-badge.ungjin {
            background: #e74c3c;
        }

        .period-badge.sabi {
            background: #27ae60;
        }

        .popup-body {
            padding: 25px;
        }

        .popup-image {
            width: 100%;
            height: 200px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #7f8c8d;
            font-style: italic;
        }

        .popup-description {
            color: #2c3e50;
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 1rem;
        }

        .popup-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #3498db;
        }

        .popup-details h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .popup-details p {
            color: #7f8c8d;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .info-panel {
                order: -1;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .tab-btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            
            #map {
                height: 500px;
            }
            
            .popup-content {
                margin: 10px;
                max-height: 90vh;
            }
            
            .popup-header {
                padding: 20px 20px 15px;
            }
            
            .popup-body {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.5rem;
            }
            
            .period-tabs {
                gap: 5px;
            }
            
            .tab-btn {
                padding: 8px 16px;
                font-size: 0.85rem;
            }
            
        }

        /* ì§€ë„ ë§ˆì»¤ ìŠ¤íƒ€ì¼ */
        .custom-marker {
            background: #e74c3c;
            border: 3px solid white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }

        .custom-marker.sabi {
            background: #27ae60;
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .marker-popup.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .popup-content {
            animation: fadeIn 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ›ï¸ìŠ¹í˜¸ì™€ í•¨ê»˜ ë°±ì œ ì—­ì‚¬ì˜ ë³´ë¬¼ ì°¾ê¸°: ê³µì£¼ì™€ ë¶€ì—¬ ì—¬í–‰!</h1>
            <p class="subtitle">ìŠ¹í˜¸ì•¼. ì´ë²ˆ ì—°íœ´ ë•Œ ë°±ì œì— ëŒ€í•´ ì•Œì•„ë³¼ê±°ì•¼. ë°±ì œì˜ í™”ë ¤í•œ ë¬¸í™”ë¶€í„° ì‡ í‡´í•˜ëŠ” ê³¼ì •ê¹Œì§€ ì§ì ‘ ê°€ì„œ ì•Œì•„ë´…ì‹œë‹¤.</p>
            <div class="period-tabs">
                <button class="tab-btn active" data-period="all">ì „ì²´</button>
                <button class="tab-btn" data-period="ungjin">ì›…ì§„ ì‹œê¸°</button>
                <button class="tab-btn" data-period="sabi">ì‚¬ë¹„ ì‹œê¸°</button>
            </div>
        </header>

        <div class="main-content">
            <div class="map-container">
                <div id="map"></div>
            </div>
            
            <div class="info-panel">
                <div class="info-content">
                    <h2>ğŸ—ºï¸ ì²« ë²ˆì§¸ ìˆ˜ë„ì¸ ì›…ì§„(ì§€ê¸ˆì˜ ê³µì£¼)ê³¼ ë‘ ë²ˆì§¸ ìˆ˜ë„ì¸ ì‚¬ë¹„(ì§€ê¸ˆì˜ ë¶€ì—¬)ì— ì–´ë–¤ ë³´ë¬¼ë“¤ì´ ë‚¨ì•„ ìˆëŠ”ì§€ í•¨ê»˜ ì‚´í´ë³¼ê¹Œìš”?</h2>
                    <p>ì§€ë„ì—ì„œ ë§ˆì»¤ë¥¼ í´ë¦­í•˜ë©´ ê° ìœ ì ì§€ì˜ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    
                    <div class="legend">
                        <h3>ğŸ‘‘ ì›…ì§„ ì‹œëŒ€ (475ë…„ ~ 538ë…„) - ë°±ì œì˜ ë‘ ë²ˆì§¸ ìˆ˜ë„, ê³µì£¼</h3>
                        <div class="legend-item">
                            <span class="legend-marker ungjin"></span>
                            <span>ë°±ì œëŠ” ì›ë˜ ì„œìš¸ ìª½ì— ìˆì—ˆì§€ë§Œ, ê³ êµ¬ë ¤ì˜ ê³µê²©ì„ ë°›ê³  ì›…ì§„(ì§€ê¸ˆì˜ ê³µì£¼)ìœ¼ë¡œ ìˆ˜ë„ë¥¼ ì˜®ê²¼ì–´ìš”. ê³µì£¼ì—ëŠ” ë°±ì œ ì‹œëŒ€ì˜ í”ì ì´ ë§ì´ ë‚¨ì•„ ìˆë‹µë‹ˆë‹¤.</span>
                        </div>
                        <h3>âœ¨ ì‚¬ë¹„ ì‹œëŒ€ (538ë…„ ~ 660ë…„) - ë°±ì œì˜ ë§ˆì§€ë§‰ ìˆ˜ë„, ë¶€ì—¬</h3>
                        <div class="legend-item">
                            <span class="legend-marker sabi"></span>
                            <span>ë°±ì œëŠ” ë‚˜ë¼ì˜ í˜ì„ ë‹¤ì‹œ í‚¤ìš°ê¸° ìœ„í•´ ìˆ˜ë„ë¥¼ ë” ë„“ì€ ë•…ì¸ ì‚¬ë¹„(ì§€ê¸ˆì˜ ë¶€ì—¬)ë¡œ ì˜®ê²¼ì–´ìš”. ë¶€ì—¬ëŠ” ë°±ì œì˜ ë§ˆì§€ë§‰ ë¶ˆê½ƒì„ íƒœìš´ ê³³ì´ëë‹ˆë‹¤.</span>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- ë§ˆì»¤ ì •ë³´ íŒì—… -->
        <div id="markerPopup" class="marker-popup">
            <div class="popup-content">
                <button class="close-btn">&times;</button>
                <div class="popup-header">
                    <h3 id="popupTitle"></h3>
                    <span id="popupPeriod" class="period-badge"></span>
                </div>
                <div class="popup-body">
                    <div id="popupImage" class="popup-image"></div>
                    <div id="popupDescription"></div>
                    <div id="popupDetails"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ë°±ì œ ìœ ì ì§€ ë°ì´í„°
        const baekjeSites = {
            ungjin: [
                {
                    id: 'gongsanseong',
                    name: 'ê³µì‚°ì„±(ì›…ì§„ì„±)',
                    lat: 36.4614,
                    lng: 127.1208,
                    period: 'ì›…ì§„ ì‹œê¸° (475-538)',
                    description: 'ê³µì‚°ì„±ì€ ë°±ì œê°€ ìˆ˜ë„ë¥¼ ê³µì£¼ë¡œ ì˜®ê¸´ í›„ ì™•ê¶ì„ ì§€í‚¤ê¸° ìœ„í•´ ë§Œë“  íŠ¼íŠ¼í•œ ì„±ì´ì—ìš”. ì›…ì§„ì„±ì´ ìˆë˜ ê³³ì€ ê¸ˆê°•ì´ë¼ëŠ” ê°•ì„ ë¼ê³  ìˆì–´ì„œ ì ì´ ì‰½ê²Œ ì³ë“¤ì–´ì˜¬ ìˆ˜ ì—†ì—ˆëŒ€ìš”.',
                    details: `
                        <h4>ğŸ° ì‹ ê¸°í•œ ì„± ì´ì•¼ê¸°</h4>
                        <p>â€¢ ì´ ì„±ì€ ì‚°ì„ ë”°ë¼ ê¸¸ê²Œ ì´ì–´ì ¸ ìˆëŠ”ë°, ë§ˆì¹˜ ê¸´ ë±€ì´ ê¸°ì–´ê°€ëŠ” ê²ƒì²˜ëŸ¼ ìƒê²¼ë‹µë‹ˆë‹¤</p>
                        <p>â€¢ ì„±ë²½ì˜ ì¼ë¶€ëŠ” í™ìœ¼ë¡œ, ì¼ë¶€ëŠ” ëŒë¡œ ë§Œë“¤ì–´ì ¸ì„œ ë‹¹ì‹œ ì‚¬ëŒë“¤ì´ ì–¼ë§ˆë‚˜ ë˜‘ë˜‘í–ˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆì–´ìš”</p>
                        <p>â€¢ ê³µì‚°ì„± ì•ˆì—ëŠ” ë°±ì œ ì‹œëŒ€ì˜ ì™•ê¶ í„°ê°€ ë‚¨ì•„ ìˆì–´ìš”</p>
                        <p>â€¢ ê¸ˆê°•ì´ë¼ëŠ” ê°•ì„ ë¼ê³  ìˆì–´ì„œ ì ì´ ì‰½ê²Œ ì³ë“¤ì–´ì˜¬ ìˆ˜ ì—†ì—ˆë‹µë‹ˆë‹¤</p>
                    `,
                    image: 'ğŸ°'
                },
                {
                    id: 'songsanri',
                    name: 'ì†¡ì‚°ë¦¬ ê³ ë¶„êµ°(ë¬´ë ¹ì™•ë¦‰ í¬í•¨)',
                    lat: 36.4500,
                    lng: 127.1100,
                    period: 'ì›…ì§„ ì‹œê¸° (475-538)',
                    description: 'ê³µì‚°ì„± ê·¼ì²˜ì—ëŠ” ì™•ê³¼ ì™•ì¡±ì˜ ë¬´ë¤ë“¤ì´ ëª¨ì—¬ ìˆëŠ” ê³³ì´ ìˆì–´ìš”. ë°”ë¡œ ì†¡ì‚°ë¦¬ ê³ ë¶„êµ°ì´ì—ìš”. ì´ ë¬´ë¤ë“¤ì€ ì•„ì£¼ ì˜¤ë˜ì „ì— ë§Œë“¤ì–´ì¡ŒëŠ”ë°, 1971ë…„ì— ê¸¸ì„ ë§Œë“¤ë‹¤ê°€ ìš°ì—°íˆ ë°œê²¬ë˜ì—ˆë‹µë‹ˆë‹¤.',
                    details: `
                        <h4>ğŸ‘‘ ë¬´ë ¹ì™•ë¦‰ì´ ì™œ ì¤‘ìš”í• ê¹Œ?</h4>
                        <p>â€¢ ë¬´ë ¹ì™•ë¦‰ ì•ˆì€ ë²½ëŒë¡œ ë§Œë“¤ì–´ì ¸ ìˆì–´ì„œ ì¤‘êµ­ì˜ ì˜í–¥ì„ ë°›ì•˜ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì–´ìš”</p>
                        <p>â€¢ ë¬´ë¤ì—ì„œ ê¸ˆìœ¼ë¡œ ë§Œë“  ì™•ì˜ ëª¨ì, ê¸ˆë™ ì‹ ë°œ, ì˜ˆìœ ì¥ì‹ êµ¬ ë“± 4,600ê°œê°€ ë„˜ëŠ” ê·€í•œ ë³´ë¬¼ë“¤ì´ ë‚˜ì™”ì–´ìš”</p>
                        <p>â€¢ ì´ ë³´ë¬¼ë“¤ì€ ë°±ì œê°€ ë‹¤ë¥¸ ë‚˜ë¼ë“¤ê³¼ í™œë°œí•˜ê²Œ êµë¥˜í–ˆë‹¤ëŠ” ì¦ê±°ê°€ ëœë‹µë‹ˆë‹¤</p>
                        <p>â€¢ 17ê°œì˜ ë³´ë¬¼ì´ êµ­ë³´ë¡œ ì§€ì •ë˜ì–´ ìš°ë¦¬ë‚˜ë¼ì˜ ì†Œì¤‘í•œ ë¬¸í™”ì¬ê°€ ë˜ì—ˆì–´ìš”</p>
                    `,
                    image: 'ğŸ‘‘'
                },
                {
                    id: 'gongju_museum',
                    name: 'êµ­ë¦½ê³µì£¼ë°•ë¬¼ê´€',
                    lat: 36.4583,
                    lng: 127.1167,
                    period: 'ì›…ì§„ ì‹œê¸° (475-538)',
                    description: 'ë¬´ë ¹ì™•ë¦‰ì—ì„œ ë‚˜ì˜¨ ë³´ë¬¼ë“¤ì„ ì§ì ‘ ë³´ê³  ì‹¶ë‹¤ê³ ìš”? ê·¸ëŸ¼ êµ­ë¦½ê³µì£¼ë°•ë¬¼ê´€ìœ¼ë¡œ ê°€ë³´ì„¸ìš”! ì´ê³³ì—ì„œëŠ” ë¬´ë ¹ì™•ë¦‰ì—ì„œ ë‚˜ì˜¨ ê¸ˆê´€, ê¸ˆë™ ì‹ ë°œ, ì•„ë¦„ë‹¤ìš´ ì²­ë™ ê±°ìš¸ ë“±ì„ ë³¼ ìˆ˜ ìˆì–´ìš”.',
                    details: `
                        <h4>ğŸ–¼ï¸ ë°•ë¬¼ê´€ì—ì„œ ë§Œë‚˜ëŠ” ë³´ë¬¼ë“¤</h4>
                        <p>â€¢ ë¬´ë ¹ì™•ë¦‰ì—ì„œ ë‚˜ì˜¨ ê¸ˆìœ¼ë¡œ ë§Œë“  ì™•ì˜ ëª¨ìì™€ ì‹ ë°œì„ ì§ì ‘ ë³¼ ìˆ˜ ìˆì–´ìš”</p>
                        <p>â€¢ ë°±ì œ ì‚¬ëŒë“¤ì´ ë§Œë“  ì•„ë¦„ë‹¤ìš´ ì²­ë™ ê±°ìš¸ë„ ì „ì‹œë˜ì–´ ìˆë‹µë‹ˆë‹¤</p>
                        <p>â€¢ ì•½ 1ë§Œ ê°œì˜ ì†Œì¤‘í•œ ë³´ë¬¼ë“¤ì´ ë³´ê´€ë˜ì–´ ìˆì–´ìš” (19ê°œëŠ” êµ­ë³´ì˜ˆìš”!)</p>
                        <p>â€¢ ë°±ì œ ì‚¬ëŒë“¤ì˜ ë›°ì–´ë‚œ ì†œì”¨ë¥¼ ì§ì ‘ ëˆˆìœ¼ë¡œ í™•ì¸í•´ ë³´ì„¸ìš”</p>
                    `,
                    image: 'ğŸ›ï¸'
                }
            ],
            sabi: [
                {
                    id: 'busosanseong',
                    name: 'ë¶€ì†Œì‚°ì„±(ì‚¬ë¹„ì„±)',
                    lat: 36.2756,
                    lng: 126.9100,
                    period: 'ì‚¬ë¹„ ì‹œê¸° (538-660)',
                    description: 'ë¶€ì—¬ì— ìˆëŠ” ë¶€ì†Œì‚°ì„±ì€ ì™•ê¶ì˜ ë’·ë§ˆë‹¹ì´ì, ìœ„í—˜í•  ë•Œ ì™•ì´ í”¼ë‚œ ê°ˆ ìˆ˜ ìˆë„ë¡ ë§Œë“  ì„±ì´ì—ìš”. ì´ ì„±ë²½ì€ ëª¨ë‘ í™ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œì–´ìš”.',
                    details: `
                        <h4>ğŸŒ³ ê°€ìŠ´ ì•„í”ˆ ì „ì„¤</h4>
                        <p>â€¢ ë¶€ì†Œì‚°ì„±ì—ëŠ” ë‚™í™”ì•”ì´ë¼ëŠ” ì ˆë²½ì´ ìˆì–´ìš”</p>
                        <p>â€¢ ë°±ì œê°€ ë§í•  ë•Œ, ê¶ë…€ë“¤ì´ ì ì—ê²Œ ì¡íˆì§€ ì•Šê¸° ìœ„í•´ ì ˆë²½ ì•„ë˜ë¡œ ëª¸ì„ ë˜ì¡Œë‹¤ëŠ” ìŠ¬í”ˆ ì´ì•¼ê¸°ê°€ ì „í•´ì§„ë‹µë‹ˆë‹¤</p>
                        <p>â€¢ ê·¸ë˜ì„œ ì´ê³³ì€ ë°±ì œì˜ ë§ˆì§€ë§‰ì„ ë³´ì—¬ì£¼ëŠ” ê³³ìœ¼ë¡œ ìœ ëª…í•´ìš”</p>
                        <p>â€¢ ì„±ë²½ì€ ëª¨ë‘ í™ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ì„œ ë‹¹ì‹œ ì‚¬ëŒë“¤ì˜ ì§€í˜œë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤</p>
                    `,
                    image: 'ğŸ”ï¸'
                },
                {
                    id: 'jeongrimsa',
                    name: 'ì •ë¦¼ì‚¬ì§€(ì •ë¦¼ì‚¬ í„°)',
                    lat: 36.2750,
                    lng: 126.9167,
                    period: 'ì‚¬ë¹„ ì‹œê¸° (538-660)',
                    description: 'ì •ë¦¼ì‚¬ì§€ëŠ” ë°±ì œ ì‹œëŒ€ì˜ í° ì ˆí„°ì˜ˆìš”. ë„ì‹œ í•œê°€ìš´ë°ì— ì™•ê¶ê³¼ í•¨ê»˜ ì§€ì–´ì§„ ê²ƒìœ¼ë¡œ ë³´ì•„, ë°±ì œ ì‚¬ëŒë“¤ì—ê²Œ ë¶ˆêµê°€ ì–¼ë§ˆë‚˜ ì¤‘ìš”í–ˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆì–´ìš”.',
                    details: `
                        <h4>ğŸ¯ ì˜¤ì¸µì„íƒ‘ì˜ ë¹„ë°€</h4>
                        <p>â€¢ ì§€ê¸ˆì€ ì•„ë¦„ë‹¤ìš´ ì˜¤ì¸µì„íƒ‘ê³¼ ì„ë¶ˆì¢Œìƒì´ ë‚¨ì•„ ìˆì–´ìš”</p>
                        <p>â€¢ ì´ íƒ‘ì—ëŠ” ë‹¹ë‚˜ë¼ê°€ ë°±ì œë¥¼ ë©¸ë§ì‹œí‚¨ ê²ƒì„ ê¸°ë…í•˜ëŠ” ê¸€ì´ ìƒˆê²¨ì ¸ ìˆì–´ìš”</p>
                        <p>â€¢ ê·¸ë˜ì„œ ì´ íƒ‘ì€ ë°±ì œì˜ ì•„í”ˆ ì—­ì‚¬ë¥¼ ë‹´ê³  ìˆëŠ” ì¦ê±°ì´ê¸°ë„ í•´ìš”</p>
                        <p>â€¢ ë™ìª½ê³¼ ì„œìª½ì— ì—°ëª»ì´ ìˆì—ˆë˜ í° ì ˆì´ì—ˆë‹µë‹ˆë‹¤</p>
                    `,
                    image: 'ğŸ¯'
                },
                {
                    id: 'gungnamji',
                    name: 'ê¶ë‚¨ì§€(ì™•ê¶ ë‚¨ìª½ ì—°ëª»)',
                    lat: 36.2700,
                    lng: 126.9200,
                    period: 'ì‚¬ë¹„ ì‹œê¸° (538-660)',
                    description: 'ê¶ë‚¨ì§€ëŠ” ìš°ë¦¬ë‚˜ë¼ì—ì„œ ê°€ì¥ ë¨¼ì € ë§Œë“¤ì–´ì§„ ì¸ê³µ ì—°ëª»ì´ë¼ê³  í•´ìš”. ë°±ì œ 30ëŒ€ ì™•ì¸ ë¬´ì™•ì´ ì™•ê¶ ë‚¨ìª½ì— ë§Œë“¤ì—ˆë‹¤ê³  í•´ì„œ \'ê¶ë‚¨ì§€\'ë¼ëŠ” ì´ë¦„ì´ ë¶™ì—ˆëŒ€ìš”.',
                    details: `
                        <h4>â›²ï¸ ì˜ˆìœ í’ê²½</h4>
                        <p>â€¢ ì—¬ë¦„ì—ëŠ” ì—°ëª» ê°€ë“ ì—°ê½ƒì´ í”¼ì–´ë‚˜ì„œ ì •ë§ ì˜ˆë»ìš”</p>
                        <p>â€¢ ì—°ëª» í•œê°€ìš´ë° ìˆëŠ” í¬ë£¡ì •ì´ë¼ëŠ” ì •ìë„ ë©‹ì§€ë‹µë‹ˆë‹¤</p>
                        <p>â€¢ ë°±ì œ ì‚¬ëŒë“¤ì˜ ì¡°ê²½ìˆ ê³¼ ë¯¸ì  ê°ê°ì„ ë³´ì—¬ì£¼ëŠ” ì‘í’ˆì´ì—ìš”</p>
                        <p>â€¢ ìš°ë¦¬ë‚˜ë¼ ì¡°ê²½ ì—­ì‚¬ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì˜ë¯¸ë¥¼ ì§€ë‹ˆëŠ” ê³³ì´ëë‹ˆë‹¤</p>
                    `,
                    image: 'ğŸï¸'
                },
                {
                    id: 'neungsanri',
                    name: 'ëŠ¥ì‚°ë¦¬ ê³ ë¶„êµ°',
                    lat: 36.2800,
                    lng: 126.9300,
                    period: 'ì‚¬ë¹„ ì‹œê¸° (538-660)',
                    description: 'ë¶€ì—¬ì—ë„ ì™•ì´ë‚˜ ê·€ì¡±ì˜ ë¬´ë¤ì´ ëª¨ì—¬ ìˆëŠ” ëŠ¥ì‚°ë¦¬ ê³ ë¶„êµ°ì´ ìˆì–´ìš”. ì´ê³³ì—ì„œëŠ” ë¬´ë ¹ì™•ë¦‰ë³´ë‹¤ ë” ë°œì „ëœ í˜•íƒœë¡œ ë§Œë“¤ì–´ì§„ ë¬´ë¤ë“¤ì„ ë³¼ ìˆ˜ ìˆì–´ìš”.',
                    details: `
                        <h4>ğŸº ë°±ì œ ê¸ˆë™ëŒ€í–¥ë¡œ</h4>
                        <p>â€¢ ëŠ¥ì‚°ë¦¬ ê·¼ì²˜ ì ˆí„°ì—ì„œëŠ” ê¸ˆë™ëŒ€í–¥ë¡œë¼ëŠ” ì•„ì£¼ ë©‹ì§„ ë³´ë¬¼ì´ ë°œê²¬ë˜ì—ˆì–´ìš”</p>
                        <p>â€¢ ì´ í–¥ë¡œëŠ” ë§ˆì¹˜ ì‚°ì†ì— ìˆëŠ” ì‹ ì„ ë“¤ì˜ ì„¸ê³„ë¥¼ í‘œí˜„í•œ ê²ƒì²˜ëŸ¼ ë³µì¡í•˜ê³  ì•„ë¦„ë‹µê²Œ ë§Œë“¤ì–´ì¡Œì–´ìš”</p>
                        <p>â€¢ ë†’ì´ 64cm, ë¬´ê²Œ 11.8kgì˜ í° í–¥ë¡œë¡œ 1996ë…„ êµ­ë³´ 287í˜¸ë¡œ ì§€ì •ë˜ì—ˆë‹µë‹ˆë‹¤</p>
                        <p>â€¢ ë°±ì œ ì‚¬ëŒë“¤ì´ ì–¼ë§ˆë‚˜ ë›°ì–´ë‚œ ì˜ˆìˆ ê°€ì˜€ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹µë‹ˆë‹¤</p>
                    `,
                    image: 'âš±ï¸'
                },
                {
                    id: 'buyeo_museum',
                    name: 'êµ­ë¦½ë¶€ì—¬ë°•ë¬¼ê´€',
                    lat: 36.2750,
                    lng: 126.9100,
                    period: 'ì‚¬ë¹„ ì‹œê¸° (538-660)',
                    description: 'êµ­ë¦½ë¶€ì—¬ë°•ë¬¼ê´€ì€ ê¸ˆë™ëŒ€í–¥ë¡œë¥¼ ë¹„ë¡¯í•´ ë¶€ì—¬ì—ì„œ ë°œê²¬ëœ ë³´ë¬¼ë“¤ì„ ëª¨ë‘ ëª¨ì•„ ë†“ì€ ê³³ì´ì—ìš”. ë°±ì œ ì‚¬ëŒë“¤ì˜ ë©‹ì§„ ë¶ˆêµ ë¯¸ìˆ í’ˆê³¼ ìƒí™œ ë„êµ¬ë“¤ì„ ë³´ë©° ë‹¹ì‹œ ì‚¬ëŒë“¤ì˜ ì‚¶ì„ ìƒìƒí•´ ë³¼ ìˆ˜ ìˆì–´ìš”.',
                    details: `
                        <h4>ğŸ–¼ï¸ ë°•ë¬¼ê´€ì—ì„œ ë§Œë‚˜ëŠ” ë³´ë¬¼ë“¤</h4>
                        <p>â€¢ ëŠ¥ì‚°ë¦¬ ì ˆí„°ì—ì„œ ë°œê²¬ëœ ë©‹ì§„ ê¸ˆë™ëŒ€í–¥ë¡œë¥¼ ì§ì ‘ ë³¼ ìˆ˜ ìˆì–´ìš”</p>
                        <p>â€¢ ì‚¬ë¹„ ì‹œê¸°ì˜ ì•„ë¦„ë‹¤ìš´ ë¶ˆêµ ë¯¸ìˆ í’ˆê³¼ ë„ìê¸°ë“¤ì´ ì „ì‹œë˜ì–´ ìˆë‹µë‹ˆë‹¤</p>
                        <p>â€¢ ë°±ì œ ì‚¬ëŒë“¤ì´ ì‚¬ìš©í–ˆë˜ ì¼ìƒìƒí™œ ë„êµ¬ë“¤ë„ ë³¼ ìˆ˜ ìˆì–´ìš”</p>
                        <p>â€¢ ì‚¬ë¹„ ì‹œê¸° ë°±ì œ ë¬¸í™”ì˜ ì •ìˆ˜ë¥¼ ë³´ì—¬ì£¼ëŠ” ì†Œì¤‘í•œ ê³µê°„ì´ëë‹ˆë‹¤</p>
                    `,
                    image: 'ğŸ›ï¸'
                },
                {
                    id: 'baekje_cultural_park',
                    name: 'ë°±ì œë¬¸í™”ë‹¨ì§€',
                    lat: 36.2600,
                    lng: 126.9000,
                    period: 'ì‚¬ë¹„ ì‹œê¸° (538-660)',
                    description: 'ë°±ì œë¬¸í™”ë‹¨ì§€ëŠ” ì˜›ë‚  ë°±ì œ ì‹œëŒ€ì˜ ê¶ê¶, ë§ˆì„, ì„±ì„ ì˜¤ëŠ˜ë‚ ì— ê·¸ëŒ€ë¡œ ë˜ì‚´ë ¤ ë†“ì€ ê³³ì´ì—ìš”. ì´ê³³ì— ê°€ë©´ ë§ˆì¹˜ ì‹œê°„ ì—¬í–‰ì„ í•œ ê²ƒì²˜ëŸ¼ ë°±ì œ ì‹œëŒ€ ì‚¬ëŒë“¤ì˜ ì˜·ì„ ì…ì–´ë³´ê³ , ì˜›ë‚  ì§‘ì„ êµ¬ê²½í•˜ë©° ë‹¤ì–‘í•œ ì²´í—˜ì„ í•  ìˆ˜ ìˆë‹µë‹ˆë‹¤.',
                    details: `
                        <h4>ğŸ° ì‹œê°„ ì—¬í–‰ ì²´í—˜</h4>
                        <p>â€¢ 3.3kmÂ² ê·œëª¨ì˜ í° ì—­ì‚¬ í…Œë§ˆíŒŒí¬ì˜ˆìš”</p>
                        <p>â€¢ ì‚¬ë¹„ ê¶ê¶ì˜ ì •ì „Â·ì¤‘ì „Â·ìƒí™œ êµ¬ì—­ì„ ê·¸ëŒ€ë¡œ ì¬í˜„í–ˆì–´ìš”</p>
                        <p>â€¢ ë¶€ì†Œì‚°ì„±ê³¼ ëŠ¥ì‚°ë¦¬ ë§ˆì„ë„ ë³µì›í•´ì„œ ë³¼ ìˆ˜ ìˆë‹µë‹ˆë‹¤</p>
                        <p>â€¢ ë°±ì œ ì‚¬ëŒë“¤ì˜ ì¼ìƒìƒí™œê³¼ ì§ì—…, ê³µì˜ˆë¥¼ ì§ì ‘ ì²´í—˜í•  ìˆ˜ ìˆì–´ìš”</p>
                        <p>â€¢ ê³¼ê±° ìœ ì ì„ ë³´ì¡´í•˜ë©´ì„œë„ í˜„ëŒ€ì ìœ¼ë¡œ í™œìš©í•˜ëŠ” ë©‹ì§„ ê³µê°„ì´ëë‹ˆë‹¤</p>
                    `,
                    image: 'ğŸ­'
                }
            ]
        };

        // ì§€ë„ì™€ ë§ˆì»¤ ê´€ë ¨ ë³€ìˆ˜
        let map;
        let markers = [];
        let currentFilter = 'all';

        // ì§€ë„ ì´ˆê¸°í™”
        function initMap() {
            // ê³µì£¼ì™€ ë¶€ì—¬ì˜ ì¤‘ê°„ ì§€ì ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ì •
            map = L.map('map').setView([36.3683, 127.0154], 10);
            
            // íƒ€ì¼ ë ˆì´ì–´ ì¶”ê°€ (OpenStreetMap ì‚¬ìš©)
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenStreetMap contributors'
            }).addTo(map);
            
            // ëª¨ë“  ìœ ì ì§€ ë§ˆì»¤ ì¶”ê°€
            addAllMarkers();
        }

        // ëª¨ë“  ë§ˆì»¤ ì¶”ê°€
        function addAllMarkers() {
            // ê¸°ì¡´ ë§ˆì»¤ ì œê±°
            markers.forEach(marker => map.removeLayer(marker));
            markers = [];
            
            // ì›…ì§„ ì‹œê¸° ë§ˆì»¤ ì¶”ê°€
            baekjeSites.ungjin.forEach(site => {
                if (currentFilter === 'all' || currentFilter === 'ungjin') {
                    addMarker(site, 'ungjin');
                }
            });
            
            // ì‚¬ë¹„ ì‹œê¸° ë§ˆì»¤ ì¶”ê°€
            baekjeSites.sabi.forEach(site => {
                if (currentFilter === 'all' || currentFilter === 'sabi') {
                    addMarker(site, 'sabi');
                }
            });
        }

        // ê°œë³„ ë§ˆì»¤ ì¶”ê°€
        function addMarker(site, period) {
            const marker = L.circleMarker([site.lat, site.lng], {
                radius: 12,
                fillColor: period === 'ungjin' ? '#e74c3c' : '#27ae60',
                color: 'white',
                weight: 3,
                opacity: 1,
                fillOpacity: 0.8
            }).addTo(map);
            
            // ë§ˆì»¤ í´ë¦­ ì´ë²¤íŠ¸
            marker.on('click', function() {
                showMarkerPopup(site);
            });
            
            // ë§ˆì»¤ í˜¸ë²„ ì´ë²¤íŠ¸
            marker.on('mouseover', function() {
                this.setStyle({
                    radius: 15,
                    fillOpacity: 1
                });
            });
            
            marker.on('mouseout', function() {
                this.setStyle({
                    radius: 12,
                    fillOpacity: 0.8
                });
            });
            
            markers.push(marker);
        }

        // ë§ˆì»¤ íŒì—… í‘œì‹œ
        function showMarkerPopup(site) {
            const popup = document.getElementById('markerPopup');
            const title = document.getElementById('popupTitle');
            const period = document.getElementById('popupPeriod');
            const image = document.getElementById('popupImage');
            const description = document.getElementById('popupDescription');
            const details = document.getElementById('popupDetails');
            
            title.textContent = site.name;
            period.textContent = site.period;
            period.className = `period-badge ${site.period.includes('ì›…ì§„') ? 'ungjin' : 'sabi'}`;
            image.innerHTML = `<div style="font-size: 4rem;">${site.image}</div>`;
            description.textContent = site.description;
            details.innerHTML = site.details;
            
            popup.classList.add('show');
            popup.style.display = 'flex';
        }

        // ë§ˆì»¤ íŒì—… ë‹«ê¸°
        function closeMarkerPopup() {
            const popup = document.getElementById('markerPopup');
            popup.classList.remove('show');
            setTimeout(() => {
                popup.style.display = 'none';
            }, 300);
        }

        // ê¸°ê°„ í•„í„° ë³€ê²½
        function changePeriodFilter(period) {
            currentFilter = period;
            
            // íƒ­ ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë³€ê²½
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-period="${period}"]`).classList.add('active');
            
            // ë§ˆì»¤ ë‹¤ì‹œ ê·¸ë¦¬ê¸°
            addAllMarkers();
        }


        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        document.addEventListener('DOMContentLoaded', function() {
            // ì§€ë„ ì´ˆê¸°í™”
            initMap();
            
            // íƒ­ ë²„íŠ¼ ì´ë²¤íŠ¸
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const period = this.getAttribute('data-period');
                    changePeriodFilter(period);
                });
            });
            
            // íŒì—… ë‹«ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
            document.querySelector('.close-btn').addEventListener('click', closeMarkerPopup);
            
            // íŒì—… ë°°ê²½ í´ë¦­ ì‹œ ë‹«ê¸°
            document.getElementById('markerPopup').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeMarkerPopup();
                }
            });
            
            // ESC í‚¤ë¡œ íŒì—… ë‹«ê¸°
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeMarkerPopup();
                }
            });
        });

        // ë°˜ì‘í˜• ì§€ë„ í¬ê¸° ì¡°ì •
        window.addEventListener('resize', function() {
            if (map) {
                setTimeout(() => {
                    map.invalidateSize();
                }, 100);
            }
        });
    </script>
</body>
</html>
